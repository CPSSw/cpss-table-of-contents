<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

  <title>xgd-table-of-contents demo</title>

  <script src="../../../@webcomponents/webcomponentsjs/webcomponents-bundle.js"></script>

  <script type="module" src="../../../@polymer/iron-demo-helpers/demo-pages-shared-styles.js"></script>
  <script type="module" src="../../../@polymer/iron-demo-helpers/demo-snippet.js"></script>
  <script type="module" src="../xgd-table-of-contents.js"></script>

  <!-- FIXME(polymer-modulizer):
        These imperative modules that innerHTML your HTML are
        a hacky way to be sure that any mixins in included style
        modules are ready before any elements that reference them are
        instantiated, otherwise the CSS @apply mixin polyfill won't be
        able to expand the underlying CSS custom properties.
        See: https://github.com/Polymer/polymer-modulizer/issues/154
        -->
    <script type="module">
const $_documentContainer = document.createElement('template');

$_documentContainer.innerHTML = `<custom-style>
    <style is="custom-style" include="demo-pages-shared-styles">
    </style>
  </custom-style>`;

document.body.appendChild($_documentContainer.content);
</script>
</head>

<body>
  <script type="module">
const $_documentContainer = document.createElement('template');

$_documentContainer.innerHTML = `<div class="vertical-section-container centered">
    <h3>Basic xgd-table-of-contents demo</h3>
    <demo-snippet>
      <template>
        <xgd-table-of-contents id="toc"></xgd-table-of-contents>
      </template>
    </demo-snippet>
  </div>`;

document.body.appendChild($_documentContainer.content);
</script>
  <script type="module">
const $_documentContainer = document.createElement('template');
$_documentContainer.innerHTML = `<h3>Different Icons xgd-table-of-contents demo</h3>`;
document.body.appendChild($_documentContainer.content);
</script>
  <script type="module">
const $_documentContainer = document.createElement('template');

$_documentContainer.innerHTML = `<demo-snippet>
    <template>
      <xgd-table-of-contents id="toc" linkicon="icons:chevron-right" opened="icons:expand-more" closed="icons:expand-less"></xgd-table-of-contents>
    </template>
  </demo-snippet>`;

document.body.appendChild($_documentContainer.content);
</script>
  </div>
  <script type="module">
import '../../../@polymer/iron-demo-helpers/demo-pages-shared-styles.js';
import '../../../@polymer/iron-demo-helpers/demo-snippet.js';
import '../xgd-table-of-contents.js';

window.addEventListener("xgd-page-selection", function (event) {
  alert(event.detail.Title);
});
var xhr = new XMLHttpRequest();
xhr.open("GET", "./toc.json", true);

xhr.onload = function (e) {
  if (xhr.readyState === 4) {
    if (xhr.status === 200) {
      var data = JSON.parse(e.target.response);
      var doc = document.querySelectorAll("xgd-table-of-contents");
      for (var x = 0; x < doc.length; x++) {
        doc[x].LoadTableOfContents(data);
      }
      window.setTimeout(function() {
        doc[0].SelectChapter("Chapter A");
        doc[1].SelectPage("http://ddddd.com");
      }, 5000);
    }
  }
}.bind(window);
xhr.send(null);
</script>
</body>

</html>